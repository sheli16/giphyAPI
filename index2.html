<html>

<head>
    <title>GIPHY</title>
</head>

<body>  
    <div id="buttons">
        
        <button id="talkshow-host">donahue</button>
        <button id="talkshow-host">oprah</button>
        <button id="talkshow-host">oprah</button>
        <button id="talkshow-host">oprah</button>
         <button data-person="james brown">its a mans world</button>
         </div>
    
     <div id= "input">
     <form>
        <label for ="userinput"> Add a new talk show host here</label>
        <input type="text" id="host-input"><br>
        
        <input id="addhost" type="submit" value="add a talkshow host"><br>
        </div>
        </form>
<div id="gifsview">
<p>rating</p>
</div>
<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">
    
   
// declare my array of show hosts

var talkhosts = ['oprah', 'geraldo', 'steve harvey', 'ricky lake'];
console.log(talkhosts)

// Display talkshow Gifs

function renderbuttons(){
$("#gifsview").empty();

for (var i = 0; i < talkshosts.length;i++){
//create begining and end tag for button    
    var a =$('<button>');
//added a class
    a.addclass('Newname');
//added data attribute
    a.attr('talkshow-host',talkhosts[i]);
//initial buttontext
    a.text(talkhosts[i]);
    $('#gifsview').append(a);
    console.log(a);
};
}


//handeles the event for where one button is clicked

    $('#talkshow-host').on('click', function() {
        
        var host = $(this).data('host');
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + host + "&api_key=dc6zaTOxFJmzC&limit=10";

        $.ajax({
                url: queryURL,
                method: 'GET'})
    .done(function(response) {
                var results = response.data;
console.log(results);
console.log();
                for (var i = 0; i < results.length; i++) {
                    var gifDiv = $('<div class="item">')

                    var rating = results[i].rating;

                    var p = $('<p>').text("Rating: " + rating);
console.log(p)
                    var personImage = $('<img>');
                    personImage.attr('src', results[i].images.fixed_height.url);

                    gifDiv.append(p)
                    gifDiv.append(personImage)

                    $('#gifsview').prepend(gifDiv);
                return false;
                };
            
            });
});

    $('#addhost').on('click', function(){
        var newhost = $('#host-input').val().trim();
        talkhosts.push(newhosts); 
        renderbuttons();
    })
</script>
</body>

</html>