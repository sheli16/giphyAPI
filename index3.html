<html>

<head>
    <title>Show Host search</title>
</head>

<body>  
    <div id="buttons">
       <!-- <button data-person="Donahue">Donahue</button>
        <button data-person="Ricky lake">Ricky Lake</button>
        
        <!-  STEP ONE: Open this file in the browser and click on the buttons. Watch what happened -->

        <!-- STEP TWO: between the dashed lines below
            * add three more buttons 
            * add a data-person attribute of famous people you know 
            * with a quote said by them -->

        <!-- **************************************** -->
<!--<button data-person="Oprah">Oprah</button>
        <!- YOUR BUTTONS GO HERE!!!!!! Obviously delete this text after you put them between the dashed lines here.  -->
<!-- <button data-person="Geraldo">Geraldo</button>

        <!- **************************************** -->


        <!-- STEP THREE: open this file in the browser and click on your buttons. If they don't work, then fix your buttons -->

        <!-- STEP FOUR: go over the JavaScript with your partners, and explain the lines of code to each other. -->

    </div>
     <div id= "input">
     <form id="tvhost-form">
        <label for ="userinput"> Add a new talk show host here</label>
        <input type="text" id="host-input"><br>
        
        <input id="addhost" type="submit" value="add a talkshow host">
        </div>
        </form>

<div id="gifsview">

<p>rating</p>
</div>


<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">
   
var talkhosts = ['oprah', 'Geraldo Rivera', 'Steve Harvey', 'Jerry Springer'];


function renderbuttons(){
$("#buttons").empty();

for (var i = 0; i < talkhosts.length;i++){
//create begining and end tag for button    
    var a =$('<button>')
//added a class
    a.addClass('Newname');
//added data attribute
    a.attr('data-person',talkhosts[i]);
//initial buttontext
    a.text(talkhosts[i]);
    $('#buttons').append(a);
    console.log(a); 
};
};
 renderbuttons();
 
 // This function handles events where add one host button is clicked
 $('#addhost').on('click', function(){
        var newhost = $('#host-input').val().trim();
        talkhosts.push(newhost); 
        console.log(talkhosts)
        renderbuttons();
        return false;
    })

// display gifs
    $('button').on('click', function() {
        var H = $(this).data('person');
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + H + "&api_key=dc6zaTOxFJmzC&limit=10";

// Creates AJAX call for the specific movie being 
        $.ajax({
                url: queryURL,method: 'GET'}).done(function(response) {
                    console.log(response)
                var results = response.data;

                for (var i = 0; i < results.length; i++) {
                    var gifDiv = $('<div class="item">');
console.log(gifDiv)
                    var rating = results[i].rating;

                    var pOne = $('<p>').text("Rating: " + rating);

                    var personImage = $('<img>');
                    personImage.attr('src', results[i].images.fixed_height.url);

                    gifDiv.append(pOne)
                    console.log(pOne)
                    gifDiv.append(personImage)
                    //console.log(personimage)
                    $('#gifsview').prepend(gifDiv);

 var state = $(this).attr('data-state'); 
                        if ( state == 'still'){
                $(this).attr('src', $(this).data('animate'));
                $(this).attr('data-state', 'animate');
            }else{
                $(this).attr('src', $(this).data('still'));
                $(this).attr('data-state', 'still');
            }

                }

            });
    });
</script>
</body>

</html>